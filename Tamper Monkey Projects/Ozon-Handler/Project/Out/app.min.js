!function(){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function n(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function i(){var t=a(),e=l().filter(function(e){return!t.find(function(t){return t.link===e.link})}),n=e.concat(t);d(n),window.copyToClipboard(s(data).join("\n"),"Ссылки скопированы в буфер обмена. ".concat(e.length," шт."))}function c(){var t=a(),e=document.querySelector('[data-widget="webGallery"] img').src,n=window.location.href.split("/?")[0],r=e.split("/").at(-1).split(".")[0],e={img:e,link:n,imgKey:r};d.apply(void 0,o(t).concat([e]))}var l=function(){return o(document.querySelectorAll(".widget-search-result-container a.tile-hover-target")).map(function(t){return{domEl:t,link:t.href.split("/?")[0],img:null==(t=t.querySelector("img"))?void 0:t.src}}).filter(function(t){return t.img}).map(function(t){return n(n({},t),{},{imgKey:t.img.split("/").at(-1).split(".")[0]})})},u="ozonItemsList",a=function(){return window.LocalStorageUtil.get(u)||[]},f=function(){var t=l(),n=a();t.forEach(function(e){n.find(function(t){return t.imgKey===e.imgKey})&&(e.domEl.parentElement.style.border="2px solid black")})},d=function(t){return window.LocalStorageUtil.set(u,t)},s=function(t){return t.map(function(t){return t.link+"\t"+t.img.replace("/wc250","")})},t=function(){var t=document.querySelector('[data-widget="webDetailSKU"]'),e=document.createElement("button");e.textContent="Добавить в парсинг",e.addEventListener("click",c),t.insertAdjacentElement("beforebegin",e)},p=window.location.href;p.includes("https://www.ozon.ru/product/")?window.sleep(1).then(function(){t(),f()}):(p.includes("https://www.ozon.ru/seller/")||p.includes("https://www.ozon.ru/brand/"))&&window.sleep(1).then(function(){var t,e;f(),t=document.querySelector('[data-widget="column"]'),(e=document.createElement("button")).innerText="Собрать ссылки",e.addEventListener("click",i),t.insertAdjacentElement("beforeend",e)}),window.initializeMethods([function(){return window.LocalStorageUtil.delete(u)}])}();